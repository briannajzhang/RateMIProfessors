(this["webpackJsonprate-mi-professors"]=this["webpackJsonprate-mi-professors"]||[]).push([[0],{15:function(e,t,n){e.exports={login:"LoginPage_login__l71u_",content:"LoginPage_content__2i7Wj"}},41:function(e,t,n){},42:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(27),i=n.n(s),a=(n(41),n(42),n(28)),o=n(29),l=n(36),j=n(35),u=n(15),d=n.n(u),b=n(0),h=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{class:d.a.login,children:Object(b.jsxs)("div",{class:d.a.content,children:[Object(b.jsx)("h1",{children:"RateMIProfessors"}),Object(b.jsx)("p",{children:"Click here to log in!"})]})})}}]),n}(c.Component),O=h,x=n(7),f=n(2);n(8);var p=function(){return Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{class:"title_text",children:"RateM"}),Object(b.jsx)("img",{class:"title_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{class:"title_text",children:"Professor"})]}),Object(b.jsx)("section",{class:"body",children:Object(b.jsx)("div",{children:'FindMyProfessor is a website designed for UIUC students to find and post reviews for specific professors and the classes that they teach. If you want to search for a professor and see their reviews, you can use the "Search" tab above. If you want to use the two advanced queries written for the site, click on Advanced Query 1/2. Finally, to see reviews, go to "Reviews".'})})]})},v=n(16),g=n.n(v),m=n(30),w=n(3),y=n(31),E=n(32),R=n.n(E);var S=function(e){return R.a.get("https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=".concat(e)).then((function(e){return e.data.results}))};function _(e){var t=[];console.log(e.results);var n,c=Object(y.a)(e.results);try{for(c.s();!(n=c.n()).done;){var r=n.value;t.push(Object(b.jsxs)("div",{class:"p-4 flex space-x-4",children:[Object(b.jsx)("p",{className:"w-100px",children:r[3]}),Object(b.jsx)("p",{children:r[4]})]}))}}catch(s){c.e(s)}finally{c.f()}return Object(b.jsx)("div",{class:"flex justify-center px-10 pt-10 pb-10 w-screen",children:Object(b.jsx)("div",{class:"w-11/12 border-2 border-gray-400 rounded-lg divide-y divide-gray-100",children:t})})}var I=function(){var e=Object(c.useState)(""),t=Object(w.a)(e,2),n=t[0],r=(t[1],Object(c.useState)("")),s=Object(w.a)(r,2),i=s[0],a=s[1],o=Object(c.useState)([]),l=Object(w.a)(o,2),j=l[0],u=l[1],d=function(){var e=Object(m.a)(g.a.mark((function e(t){var c,r,s,a,o,l,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"==t.key){e.next=2;break}return e.abrupt("return");case 2:if(console.log("Enter Pressed: ".concat(i)),i!=n){e.next=5;break}return e.abrupt("return");case 5:return console.log("Running search"),c=i.trim(),r=/\d+$/,(s=c.match(r))&&(a=s[0],c=c.replace(r,"").trim()),o=["id","name","college","title"],console.log(o),l="\n            SELECT college, id, name, courseNumber, title\n            FROM Departments JOIN Courses ON id=departmentId\n            ",(a||c)&&(l+=" WHERE "),c&&(l+=" ( ",l+=o.map((function(e){return" ".concat(e," LIKE '%").concat(c,"%' ")})).join(" OR "),l+=" ) ",a&&(l+=" AND ")),a&&(l+=" ( ",l+=" courseNumber LIKE '%_".concat(a,"%' "),l+=" ) "),console.log(l),e.next=19,S(l);case 19:if(d=(d=e.sent).slice(0,50),console.log(d),d!=j){e.next=24;break}return e.abrupt("return");case 24:u(d);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{class:"header_text",children:"RateM"}),Object(b.jsx)("img",{class:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{class:"header_text",children:"Professor"})]}),Object(b.jsx)("section",{class:"body",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:" Enter your query here "}),Object(b.jsx)("div",{class:"flex justify-center pt-10 pb-10",children:Object(b.jsx)("input",{className:"border-2 border-gray-400 h-12 px-2 rounded-lg w-7/12",type:"text",placeholder:"Search",value:i,onChange:function(e){return a(e.target.value)},onKeyDown:d})}),Object(b.jsx)("div",{class:"flex justify-center",children:Object(b.jsx)(_,{results:j})})]})})]})};var C=function(){return Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{class:"header_text",children:"RateM"}),Object(b.jsx)("img",{class:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{class:"header_text",children:"Professor"})]}),Object(b.jsx)("section",{class:"body",children:Object(b.jsx)("div",{children:"This is the page for the first advanced query. Something will be returned here."})})]})};var N=function(){return Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{class:"header_text",children:"RateM"}),Object(b.jsx)("img",{class:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{class:"header_text",children:"Professor"})]}),Object(b.jsx)("section",{class:"body",children:Object(b.jsx)("div",{children:"This is the page for the second advanced query. Something will be returned here."})})]})};var k=function(){var e=Object(c.useState)(""),t=Object(w.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(w.a)(s,2),a=i[0],o=i[1],l=Object(c.useState)(""),j=Object(w.a)(l,2),u=j[0],d=j[1],h=Object(c.useState)([]),O=Object(w.a)(h,2),x=O[0],f=O[1],p=Object(c.useState)(""),v=Object(w.a)(p,2),g=v[0],m=v[1],y=Object(c.useState)([]),E=Object(w.a)(y,2),R=E[0],_=E[1],I=Object(c.useState)(""),C=Object(w.a)(I,2),N=C[0],k=C[1],T=Object(c.useState)([]),M=Object(w.a)(T,2),P=M[0],B=M[1],D=Object(c.useState)(""),L=Object(w.a)(D,2),W=L[0],q=L[1],F=Object(c.useState)(null),H=Object(w.a)(F,2),A=H[0],U=H[1],Y=Object(c.useState)(""),J=Object(w.a)(Y,2),K=J[0],Q=J[1],V=Object(c.useState)(5),$=Object(w.a)(V,2),z=$[0],G=$[1];return Object(c.useEffect)((function(){S("SELECT id, name FROM Departments ORDER BY id;").then((function(e){var t=e.map((function(e){return{id:e[0],name:e[1]}}));o(t)}))}),[]),Object(c.useEffect)((function(){d(""),f([]),n&&S('SELECT courseNumber, title FROM Courses WHERE departmentId = "'+n+'" ORDER BY courseNumber;').then((function(e){var t=e.map((function(e){return{number:e[0],title:e[1]}}));f(t)}))}),[n]),Object(c.useEffect)((function(){m(""),_([]),u&&S('SELECT id, CRN, semester FROM Offerings WHERE courseNumber = "'+u+'" ORDER BY semester, CRN;').then((function(e){var t=e.map((function(e){return{id:e[0],CRN:e[1],semester:e[2]}}));_(t)}))}),[u]),Object(c.useEffect)((function(){k(""),B([]),g&&S('SELECT id, name FROM OfferingsToProfessorRelations JOIN Professors ON professor=netid WHERE offering="'+g+'" ORDER BY name;').then((function(e){var t=e.map((function(e){return{relationId:e[0],name:e[1]}}));B(t)}))}),[g]),Object(c.useEffect)((function(){U(null),Q(""),G(5),N&&W&&S('SELECT id, rating, review FROM Reviews WHERE student = "'+W+'" AND offeringToProfessorRelation = "'+N+'"').then((function(e){e.length&&(U({id:e[0][0],rating:e[0][1],review:e[0][2]}),Q(e[0][2]),G(e[0][1]))}))}),[N,W]),Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{children:["Write a review:",Object(b.jsx)("br",{}),Object(b.jsxs)("select",{value:null!==n&&void 0!==n?n:"Select a department",onChange:function(e){return r(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a department"}),a.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.id+" - "+e.name})}))]}),n&&Object(b.jsx)("br",{}),n&&Object(b.jsxs)("select",{value:null!==u&&void 0!==u?u:"Select a course",onChange:function(e){return d(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a course"}),x.map((function(e){return Object(b.jsx)("option",{value:e.number,children:e.title})}))]}),u&&Object(b.jsx)("br",{}),u&&Object(b.jsxs)("select",{value:null!==g&&void 0!==g?g:"Select an offering",onChange:function(e){return m(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select an offering"}),R.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.semester+" - "+e.CRN})}))]}),g&&Object(b.jsx)("br",{}),g&&Object(b.jsxs)("select",{value:null!==N&&void 0!==N?N:"Select a professor",onChange:function(e){return k(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a professor"}),P.map((function(e){return Object(b.jsx)("option",{value:e.relationId,children:e.name})}))]}),Object(b.jsx)("br",{}),"Your NetID: ",Object(b.jsx)("input",{type:"text",value:W,onChange:function(e){return q(e.target.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),N&&W&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[A?"Update ":"Write ","Your Review:"]}),Object(b.jsx)("input",{type:"text",style:{width:"70%"},value:K,onChange:function(e){return Q(e.target.value)}}),Object(b.jsx)("br",{}),"Rating:",Object(b.jsx)("input",{type:"number",value:z,onChange:function(e){return G(e.target.value)}}),"/5",Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:function(){A?S('UPDATE Reviews SET review="'+K+'", rating='+z+' WHERE id = "'+A.id+'";').then((function(){U((function(e){return{id:e.id,rating:z,review:K}}))})):function(){var e="review-"+W+"-"+N;S('INSERT INTO Reviews VALUES ("'+e+'", '+z+', "'+K+'", "'+W+'", "'+N+'");').then((function(){U({id:e,rating:z,review:K})}))}()},children:A?"Update":"Post"}),A&&Object(b.jsx)("button",{onClick:function(){S('DELETE FROM Reviews WHERE id="'+A.id+'"').then((function(){U(null),Q(""),G(5)}))},children:"Remove"})]})]})})]})};var T=function(){return Object(b.jsxs)(x.a,{basename:"/RateMIProfessors",children:[Object(b.jsxs)("div",{id:"navbar",children:[Object(b.jsx)(x.b,{to:"/",children:"Home"}),Object(b.jsx)(x.b,{to:"/search",children:"Search"}),Object(b.jsx)(x.b,{to:"/queryOne",children:"Advanced Query 1"}),Object(b.jsx)(x.b,{to:"/queryTwo",children:"Advanced Query 2"}),Object(b.jsx)(x.b,{to:"/reviews",children:"Reviews"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"/login",children:Object(b.jsx)(O,{})}),Object(b.jsx)(f.a,{path:"/queryOne",children:Object(b.jsx)(C,{})}),Object(b.jsx)(f.a,{path:"/queryTwo",children:Object(b.jsx)(N,{})}),Object(b.jsx)(f.a,{path:"/search",children:Object(b.jsx)(I,{})}),Object(b.jsx)(f.a,{path:"/reviews",children:Object(b.jsx)(k,{})}),Object(b.jsx)(f.a,{path:"/",children:Object(b.jsx)(p,{})})]})]})};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(T,{})}),document.getElementById("root"))},8:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.0e4f1cf9.chunk.js.map