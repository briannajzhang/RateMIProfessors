(this["webpackJsonprate-mi-professors"]=this["webpackJsonprate-mi-professors"]||[]).push([[0],{15:function(e,t,n){e.exports={login:"LoginPage_login__l71u_",content:"LoginPage_content__2i7Wj"}},41:function(e,t,n){},42:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(27),a=n.n(s),o=(n(41),n(42),n(28)),i=n(29),j=n(36),u=n(35),l=n(15),d=n.n(l),b=n(0),O=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:d.a.login,children:Object(b.jsxs)("div",{className:d.a.content,children:[Object(b.jsx)("h1",{children:"RateMIProfessors"}),Object(b.jsx)("p",{children:"Click here to log in!"})]})})}}]),n}(r.Component),f=O,h=n(6),p=n(3);n(8);var x=function(){return Object(b.jsx)("div",{className:"home",children:Object(b.jsx)("div",{className:"home-body",children:'RateMIProfessor is a website designed for UIUC students to find and post reviews for specific professors and the classes that they teach. If you want to search for a professor and see their reviews, you can use the "Search" tab above. If you want to use the two advanced queries written for the site, click on Advanced Query 1/2. Finally, to see reviews, go to "Reviews".'})})},v=n(16),m=n.n(v),g=n(30),N=n(2),R=n(31),w=n(32),E=n.n(w);var y=function(e){return E.a.get("https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=".concat(e)).then((function(e){return e.data.results}))};function S(e){var t=[];console.log(e.results);var n,r=Object(R.a)(e.results);try{for(r.s();!(n=r.n()).done;){var c=n.value;t.push(Object(b.jsxs)(h.b,{className:"p-4 flex space-x-4",to:"/course/".concat(c[3]),children:[Object(b.jsx)("p",{className:"w-100px",children:c[3]}),Object(b.jsx)("p",{children:c[4]})]}))}}catch(s){r.e(s)}finally{r.f()}return Object(b.jsx)("div",{className:"flex justify-center px-10 pt-10 pb-10 w-screen",children:Object(b.jsx)("div",{className:"w-11/12 border-2 border-gray-400 rounded-lg divide-y divide-gray-100",children:t})})}var I=function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),a=Object(N.a)(s,2),o=a[0],i=a[1],j=Object(r.useState)([]),u=Object(N.a)(j,2),l=u[0],d=u[1],O=function(){var e=Object(g.a)(m.a.mark((function e(t){var r,s,a,i,j,u,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"===t.key){e.next=2;break}return e.abrupt("return");case 2:if(console.log("Enter Pressed: ".concat(o)),o!==n){e.next=5;break}return e.abrupt("return");case 5:return console.log("Running search"),r=o.trim(),s=/\d+$/,(a=r.match(s))&&(i=a[0],r=r.replace(s,"").trim()),j=["id","name","college","title"],console.log(j),u="\n            SELECT college, id, name, courseNumber, title\n            FROM Departments JOIN Courses ON id=departmentId\n            ",(i||r)&&(u+=" WHERE "),r&&(u+=" ( ",u+=j.map((function(e){return" ".concat(e," LIKE '%").concat(r,"%' ")})).join(" OR "),u+=" ) ",i&&(u+=" AND ")),i&&(u+=" ( ",u+=" courseNumber LIKE '%_".concat(i,"%' "),u+=" ) "),console.log(u),e.next=19,y(u);case 19:if(b=(b=e.sent).slice(0,50),console.log(b),b!==l){e.next=24;break}return e.abrupt("return");case 24:d(b),c(o);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("body",{children:Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"logo"}),Object(b.jsx)("div",{className:"page_txt",children:" Enter your query here "}),Object(b.jsx)("div",{className:"flex justify-center pt-10 pb-10",children:Object(b.jsx)("input",{className:"border-2 border-gray-400 h-12 px-2 rounded-lg w-7/12",type:"text",placeholder:"Search",value:o,onChange:function(e){return i(e.target.value)},onKeyDown:O})}),Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)(S,{results:l})})]})})})};var C=function(){var e=Object(r.useState)([]),t=Object(N.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){y("SELECT professor, AVG(rating) AS avgRating \n        FROM OfferingsToProfessorRelations opr JOIN Reviews r ON opr.id = r.offeringToProfessorRelation \n        GROUP BY professor HAVING COUNT(rating) > 0 \n        ORDER BY avgRating DESC LIMIT 15;").then((function(e){var t=e.map((function(e,t){return Object(b.jsxs)("div",{className:"p-1 flex space-x-4",children:[Object(b.jsx)("p",{style:{width:"20px"},children:"".concat(t+1,".")}),Object(b.jsx)("p",{style:{width:"100px"},children:e[0]}),Object(b.jsx)("p",{children:"".concat(e[1],"/5")})]},t)}));c(t)}))}),[]),Object(b.jsxs)("body",{children:[Object(b.jsx)("div",{className:"logo"}),Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{className:"page_txt",children:[Object(b.jsx)("div",{children:"This is the page for the first advanced query, which returns top 15 best rated professors."}),Object(b.jsxs)("div",{children:["Here are the fifteen professors with the highest reviews:",n]})]})})]})};var T=function(){var e=Object(r.useState)([]),t=Object(N.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){y("SELECT courseNumber, COUNT(rating) as ratingCount\n                FROM Offerings o\n                JOIN OfferingsToProfessorRelations opr ON o.id = opr.offering\n                JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n                GROUP BY courseNumber ORDER BY ratingCount DESC LIMIT 15;").then((function(e){var t=e.map((function(e,t){return Object(b.jsxs)(h.b,{style:{width:"fit-content"},className:"p-1 flex space-x-4",to:"/course/".concat(e[0]),children:[Object(b.jsx)("p",{style:{width:"20px"},children:"".concat(t+1,".")}),Object(b.jsx)("p",{style:{width:"100px"},children:e[0]}),Object(b.jsx)("p",{children:"".concat(e[1]," reviews")})]})}));c(t)}))}),[]),Object(b.jsxs)("body",{children:[Object(b.jsx)("div",{className:"logo"}),Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{className:"page_txt",children:[Object(b.jsx)("div",{children:"This is the page for the second advanced query, which returns the 15 most reviewed courses."}),Object(b.jsxs)("div",{children:["Here are the fifteen courses with the most reviews:",n]})]})})]})};var P=function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)([]),a=Object(N.a)(s,2),o=a[0],i=a[1],j=Object(r.useState)(""),u=Object(N.a)(j,2),l=u[0],d=u[1],O=Object(r.useState)([]),f=Object(N.a)(O,2),h=f[0],p=f[1],x=Object(r.useState)(""),v=Object(N.a)(x,2),m=v[0],g=v[1],R=Object(r.useState)([]),w=Object(N.a)(R,2),E=w[0],S=w[1],I=Object(r.useState)(""),C=Object(N.a)(I,2),T=C[0],P=C[1],_=Object(r.useState)([]),L=Object(N.a)(_,2),J=L[0],M=L[1],D=Object(r.useState)(""),Y=Object(N.a)(D,2),F=Y[0],H=Y[1],W=Object(r.useState)([]),k=Object(N.a)(W,2),B=k[0],A=k[1],U=Object(r.useState)(null),q=Object(N.a)(U,2),G=q[0],V=q[1],K=Object(r.useState)(""),Q=Object(N.a)(K,2),$=Q[0],z=Q[1],X=Object(r.useState)(5),Z=Object(N.a)(X,2),ee=Z[0],te=Z[1];function ne(){y("SELECT ".concat("c.departmentId, courseNumber, crn, semester, professor, name, rating, review"," FROM ").concat("Courses c\n        NATURAL JOIN Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n        JOIN Professors p ON opr.professor = p.netid",' WHERE student = "').concat(n,'";')).then((function(e){var t=e.map((function(e){return{ddepartmentId:e[0],courseNumber:e[1],crn:e[2],semester:e[3],professor:e[4],name:e[5],rating:e[6],review:e[7]}}));i(t)}))}return Object(r.useEffect)((function(){y("SELECT ".concat("c.departmentId, courseNumber, crn, semester, professor, name, rating, review"," FROM ").concat("Courses c\n        NATURAL JOIN Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n        JOIN Professors p ON opr.professor = p.netid",' WHERE student = "').concat(n,'";')).then((function(e){var t=e.map((function(e){return{ddepartmentId:e[0],courseNumber:e[1],crn:e[2],semester:e[3],professor:e[4],name:e[5],rating:e[6],review:e[7]}}));i(t)}))}),[n]),Object(r.useEffect)((function(){y("SELECT id, name FROM Departments ORDER BY id;").then((function(e){var t=e.map((function(e){return{id:e[0],name:e[1]}}));p(t)}))}),[]),Object(r.useEffect)((function(){g(""),S([]),l&&y('SELECT courseNumber, title FROM Courses WHERE departmentId = "'.concat(l,'" ORDER BY courseNumber;')).then((function(e){var t=e.map((function(e){return{number:e[0],title:e[1]}}));S(t)}))}),[l]),Object(r.useEffect)((function(){P(""),M([]),m&&y('SELECT id, CRN, semester FROM Offerings WHERE courseNumber = "'.concat(m,'" ORDER BY semester, CRN;')).then((function(e){var t=e.map((function(e){return{id:e[0],CRN:e[1],semester:e[2]}}));M(t)}))}),[m]),Object(r.useEffect)((function(){H(""),A([]),T&&y('SELECT id, name FROM OfferingsToProfessorRelations JOIN Professors ON professor=netid WHERE offering="'.concat(T,'" ORDER BY name;')).then((function(e){var t=e.map((function(e){return{relationId:e[0],name:e[1]}}));A(t)}))}),[T]),Object(r.useEffect)((function(){V(null),z(""),te(5),F&&n&&y('SELECT id, rating, review FROM Reviews WHERE student = "'.concat(n,'" AND offeringToProfessorRelation = "').concat(F,'"')).then((function(e){e.length&&(V({id:e[0][0],rating:e[0][1],review:e[0][2]}),z(e[0][2]),te(e[0][1]))}))}),[F,n]),Object(b.jsxs)("body",{children:[Object(b.jsx)("div",{className:"logo"}),Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"page_txt",children:["Your NetID: ",Object(b.jsx)("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)}})]}),Object(b.jsxs)("div",{className:"write-review",children:[Object(b.jsxs)("div",{className:"page_txt",children:[Object(b.jsx)("br",{}),"Write a review:",Object(b.jsx)("br",{})]}),Object(b.jsx)("div",{className:"page_txt",children:Object(b.jsxs)("select",{value:null!==l&&void 0!==l?l:"Select a department",onChange:function(e){return d(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a department"}),h.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.id+" - "+e.name})}))]})}),l&&Object(b.jsx)("br",{}),l&&Object(b.jsxs)("select",{value:null!==m&&void 0!==m?m:"Select a course",onChange:function(e){return g(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a course"}),E.map((function(e){return Object(b.jsx)("option",{value:e.number,children:e.title})}))]}),m&&Object(b.jsx)("br",{}),m&&Object(b.jsxs)("select",{value:null!==T&&void 0!==T?T:"Select an offering",onChange:function(e){return P(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select an offering"}),J.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.semester+" - "+e.CRN})}))]}),T&&Object(b.jsx)("br",{}),T&&Object(b.jsxs)("select",{value:null!==F&&void 0!==F?F:"Select a professor",onChange:function(e){return H(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a professor"}),B.map((function(e){return Object(b.jsx)("option",{value:e.relationId,children:e.name})}))]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),F&&n&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[G?"Update ":"Write ","Your Review:"]}),Object(b.jsx)("textarea",{style:{width:"70%",height:"150px"},value:$,onChange:function(e){return z(e.target.value)}}),Object(b.jsx)("br",{}),"Rating:",Object(b.jsx)("input",{type:"number",value:ee,onChange:function(e){return te(e.target.value)}}),"/5",Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",onClick:function(){G?(y('UPDATE Reviews SET review="'.concat($,'", rating=').concat(ee,' WHERE id = "').concat(G.id,'";')).then((function(){V((function(e){return{id:e.id,rating:ee,review:$}}))})),ne()):function(){var e="review-".concat(n,"-").concat(F);y('INSERT INTO Reviews VALUES ("'.concat(e,'", ').concat(ee,', "').concat($,'", "').concat(n,'", "').concat(F,'");')).then((function(){V({id:e,rating:ee,review:$})})),ne()}()},children:G?"Update":"Post"}),G&&Object(b.jsx)("button",{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",onClick:function(){return y('DELETE FROM Reviews WHERE id="'.concat(G.id,'"')).then((function(){V(null),z(""),te(5)})),void ne()},children:"Remove"})]})]}),Object(b.jsxs)("div",{className:"existing-reviews",children:["Your reviews:",Object(b.jsx)("br",{}),o.map((function(e,t){return Object(b.jsxs)("div",{className:"existing-review-box",children:[Object(b.jsx)("p",{children:"".concat(e.courseNumber," - ").concat(e.rating,"/5")}),Object(b.jsx)("p",{children:e.name}),Object(b.jsx)("p",{children:"".concat(e.semester," - ").concat(e.crn)})]},t)}))]})]})})]})};var _=function(){var e=Object(p.f)().courseNumber,t=Object(r.useState)([]),n=Object(N.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)([]),o=Object(N.a)(a,2),i=o[0],j=o[1];return Object(r.useEffect)((function(){var t='SELECT p.name, semester, rating, review, s.name\n        FROM Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n        JOIN Professors p ON opr.professor = p.netid\n        JOIN Students s ON r.student = s.netid\n        WHERE courseNumber = "'.concat(e,'"\n        ORDER BY semester DESC');y(t).then((function(e){var t=e.map((function(e){return{name:e[0],semester:e[1],rating:e[2],review:e[3],student:e[4]}}));s(t)})),t='SELECT name, AVG(avgRating) as rating\n        FROM Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Professors p ON opr.professor = p.netid\n        WHERE courseNumber = "'.concat(e,'"\n        GROUP BY netid\n        ORDER BY rating DESC'),y(t).then((function(e){var t=e.map((function(e){return{name:e[0],rating:e[1]}}));j(t)}))}),[e]),Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsxs)("section",{className:"body",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Professors who taught ",e]})}),Object(b.jsx)("div",{className:"existing-reviews",style:{float:"none"},children:i.map((function(e,t){var n;return Object(b.jsx)("div",{className:"existing-review-box",children:Object(b.jsx)("p",{children:"".concat(e.name," - ").concat(null!==(n=e.rating)&&void 0!==n?n:"Not Reviewed")+(e.rating?"/5":"")})},t)}))}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Reviews for ",e]})}),Object(b.jsxs)("div",{className:"existing-reviews",children:[c.map((function(e,t){return Object(b.jsxs)("div",{className:"existing-review-box",children:[Object(b.jsx)("p",{children:"".concat(e.name," - ").concat(e.rating,"/5")}),Object(b.jsx)("p",{children:e.semester}),Object(b.jsx)("p",{children:e.review}),Object(b.jsx)("p",{style:{alignSelf:"flex-end"},children:"-".concat(e.student)})]},t)})),!c.length&&Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:" No Reviews Found!"}),Object(b.jsx)(h.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/your-reviews",children:"Write Your Own Review!"})]})]})]})]})};var L=function(){return Object(b.jsxs)(h.a,{basename:"/RateMIProfessors",children:[Object(b.jsx)("div",{id:"navbar",children:Object(b.jsxs)("div",{className:"header",children:[Object(b.jsx)(h.b,{className:"header_btn",to:"/",children:"Home"}),Object(b.jsx)(h.b,{className:"header_btn",to:"/search",children:"Search"}),Object(b.jsx)(h.b,{className:"header_btn",to:"/queryOne",children:"Top 15 Professors"}),Object(b.jsx)(h.b,{className:"header_btn",to:"/queryTwo",children:"Most Reviewed Classes"}),Object(b.jsx)(h.b,{className:"header_btn",to:"/your-reviews",children:"Your Reviews"})]})}),Object(b.jsx)("br",{}),Object(b.jsxs)(p.c,{children:[Object(b.jsx)(p.a,{path:"/login",children:Object(b.jsx)(f,{})}),Object(b.jsx)(p.a,{path:"/queryOne",children:Object(b.jsx)(C,{})}),Object(b.jsx)(p.a,{path:"/queryTwo",children:Object(b.jsx)(T,{})}),Object(b.jsx)(p.a,{path:"/search",children:Object(b.jsx)(I,{})}),Object(b.jsx)(p.a,{path:"/your-reviews",children:Object(b.jsx)(P,{})}),Object(b.jsx)(p.a,{path:"/course/:courseNumber",children:Object(b.jsx)(_,{})}),Object(b.jsx)(p.a,{path:"/",children:Object(b.jsx)(x,{})})]})]})};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root"))},8:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.c890e71a.chunk.js.map