{"version":3,"sources":["containers/LoginPage.module.scss","containers/LoginPage.js","Home.js","api.js","Search.js","AdvOne.js","AdvTwo.js","Reviews.js","App.js","index.js"],"names":["module","exports","LoginPage","class","styles","login","content","Component","Home","src","alt","height","width","query","sql","axios","get","then","response","data","ResultCard","props","items","console","log","results","result","push","className","Search","useState","lastSearch","search","setSearch","setResults","onEnter","e","a","key","tsearch","trim","re","num_matches","match","num","replace","columns","map","c","join","matches","slice","type","placeholder","value","onChange","target","onKeyDown","AdvancedQueryOne","AdvancedQueryTwo","Reviews","dept","setDept","depts","setDepts","course","setCourse","courses","setCourses","offering","setOffering","offerings","setOfferings","professor","setProfessor","professors","setProfessors","student","setStudent","review","setReview","reviewInput","setReviewInput","ratingInput","setRatingInput","useEffect","res","newDepts","elem","id","name","newCourses","number","title","newOfferings","CRN","semester","newProfessors","relationId","length","rating","d","o","p","style","onClick","old","reviewId","addReview","App","basename","process","to","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e4f1cf9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginPage_login__l71u_\",\"content\":\"LoginPage_content__2i7Wj\"};","import React, { Component } from 'react'\nimport styles from '../containers/LoginPage.module.scss';\n\nclass LoginPage extends Component {\n    render() {\n        return (\n            <div class={styles.login}>\n                <div class={styles.content}>\n                    <h1>RateMIProfessors</h1>\n                    <p>Click here to log in!</p>\n                </div>\n            </div> \n        )\n    }\n}\n\nexport default LoginPage; ","import './Style.css'\n\nfunction Home() {\n    return <body>\n        <header> \n            <span class=\"title_text\">RateM</span>\n            <img class=\"title_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n            <span class=\"title_text\">Professor</span>\n        </header>\n        <section class=\"body\">\n            <div>FindMyProfessor is a website designed for UIUC students to find and post reviews for specific professors and the\n                classes that they teach. If you want to search for a professor and see their reviews, you can use the \"Search\" tab\n                above. If you want to use the two advanced queries written for the site, click on Advanced Query 1/2. Finally, to see reviews,\n                go to \"Reviews\". \n            </div>\n        </section>\n    </body>\n   \n}\n\nexport default Home;","import axios from 'axios';\n\n\n\nfunction query(sql){\n    return axios.get(`https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=${sql}`)\n        .then((response) => response.data[\"results\"]);\n    //return axios.get(`http://127.0.0.1:8000/forward?query=${sql}`);\n    // return axios.get('https://pokeapi.co/api/v2/pokemon/');\n    // .then((response) => {\n    //     response.data;\n    // });\n}\n\n//async function query(sql: string){\n//     const res = await fetch(`https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=${sql}`);\n    \n// }\n\nexport default query;","import { useEffect, useState } from \"react\";\nimport query from \"./api\";\nimport './Style.css'\n\nconst apiGetColumnNames = (column: string): string[] => {\n    return query(`SHOW COLUMNS FROM ${column};`)\n        .then((cols) => cols.map(col => col[0]))\n};\n\nfunction ResultCard(props) {\n\n\n    let items = [];\n    console.log(props.results)\n    for (const result of props.results) {\n        items.push(\n            <div class=\"p-4 flex space-x-4\">\n                <p className=\"w-100px\">{result[3]}</p>\n                <p>{result[4]}</p>\n            </div>\n        // <p>{`${result[3]} - ${result[4]}`}</p>\n        )\n    }\n\n    return <div class=\"flex justify-center px-10 pt-10 pb-10 w-screen\">\n        <div class=\"w-11/12 border-2 border-gray-400 rounded-lg divide-y divide-gray-100\">\n\n\n        {/* ${JSON.stringify(props.results)} */}\n        {items}\n\n        </div>\n    </div>\n}\n\nfunction Search() {\n    const [lastSearch, setLastSearch] = useState('')\n    const [search, setSearch] = useState('')\n    const [results, setResults] = useState([])\n    \n    const onEnter = async (e) => {\n        if (e.key != \"Enter\") return;\n        console.log(`Enter Pressed: ${search}`)\n\n        if (search == lastSearch) return;\n        console.log(\"Running search\")\n\n        let tsearch = search.trim();\n\n        const re = /\\d+$/;\n        let num_matches =  tsearch.match(re);\n        let num;\n\n        if (num_matches) {\n            num = num_matches[0];\n            tsearch = tsearch.replace(re, '').trim();\n        }\n\n        // let columns = await apiGetColumnNames(\"Departments\");\n        let columns = ['id', 'name', 'college', 'title'];\n        console.log(columns);\n        \n        let sql = `\n            SELECT college, id, name, courseNumber, title\n            FROM Departments JOIN Courses ON id=departmentId\n            `\n        \n        if (num || tsearch) {\n            sql += \" WHERE \"\n        }\n\n        if (tsearch) {\n            sql += \" ( \"\n            sql += columns.map(c => ` ${c} LIKE '%${tsearch}%' `).join(\" OR \")\n            sql += \" ) \"\n\n            if (num) {\n                sql += \" AND \"\n            }\n        }\n\n        if (num) {\n            sql += \" ( \"\n            sql += ` courseNumber LIKE '%_${num}%' `\n            sql += \" ) \"\n        }\n\n        console.log(sql);\n\n        let matches = await query(sql);\n        matches = matches.slice(0, 50);\n        console.log(matches);\n\n        if (matches == results) return;\n        setResults(matches);\n\n    }\n\n    // useEffect(() => {\n    //     query\n    // });\n\n    return <body>\n    <header> \n        <span class=\"header_text\">RateM</span>\n        <img class=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n        <span class=\"header_text\">Professor</span>\n    </header>\n    <section class=\"body\">\n        <div>\n            <div> Enter your query here </div>\n        <div class=\"flex justify-center pt-10 pb-10\">\n            <input\n                className=\"border-2 border-gray-400 h-12 px-2 rounded-lg w-7/12\"\n                type=\"text\"\n                placeholder=\"Search\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                onKeyDown={onEnter}\n            />\n        </div>\n        <div class=\"flex justify-center\">\n            <ResultCard results={results} />\n        </div>\n    </div>\n    </section>\n</body>\n}\n\nexport default Search;","import './Style.css'\n\nfunction AdvancedQueryOne() {\n    return <body>\n    <header> \n        <span class=\"header_text\">RateM</span>\n        <img class=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n        <span class=\"header_text\">Professor</span>\n    </header>\n    <section class=\"body\">\n        <div>This is the page for the first advanced query. Something will be returned here.</div>\n    </section>\n</body>\n}\n\nexport default AdvancedQueryOne;","import './Style.css'\n\nfunction AdvancedQueryTwo() {\n    return <body>\n    <header> \n        <span class=\"header_text\">RateM</span>\n        <img class=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n        <span class=\"header_text\">Professor</span>\n    </header>\n    <section class=\"body\">\n        <div>This is the page for the second advanced query. Something will be returned here.</div>\n    </section>\n</body>\n}\n\nexport default AdvancedQueryTwo;","import { useEffect, useState } from \"react\";\nimport query from \"./api\";\nimport './Style.css'\n\nfunction Reviews() {\n    const [dept, setDept] = useState(\"\");\n    const [depts, setDepts] = useState([]);\n    const [course, setCourse] = useState(\"\");\n    const [courses, setCourses] = useState([]);\n    const [offering, setOffering] = useState(\"\");\n    const [offerings, setOfferings] = useState([]);\n    const [professor, setProfessor] = useState(\"\");\n    const [professors, setProfessors] = useState([]);\n    const [student, setStudent] = useState(\"\");\n    const [review, setReview] = useState(null);\n    const [reviewInput, setReviewInput] = useState(\"\");\n    const [ratingInput, setRatingInput] = useState(5);\n\n    //get departments\n    useEffect(() => {\n        query('SELECT id, name FROM Departments ORDER BY id;').then(res => {\n            let newDepts = res.map(elem => {\n                return {\n                    id: elem[0],\n                    name: elem[1]\n                }\n            });\n            setDepts(newDepts);\n        });\n    }, []);\n\n    //get courses in the department\n    useEffect(() => {\n        setCourse(\"\");\n        setCourses([]);\n        if (!dept) return;\n        query('SELECT courseNumber, title FROM Courses WHERE departmentId = \"' + dept + '\" ORDER BY courseNumber;').then(res => {\n            let newCourses = res.map(elem => {\n                return {\n                    number: elem[0],\n                    title: elem[1]\n                }\n            });\n            setCourses(newCourses);\n        });\n    }, [dept]);\n\n    //get offerings of the course\n    useEffect(() => {\n        setOffering(\"\");\n        setOfferings([]);\n        if (!course) return;\n        query('SELECT id, CRN, semester FROM Offerings WHERE courseNumber = \"' + course + '\" ORDER BY semester, CRN;').then(res => {\n            let newOfferings = res.map(elem => {\n                return {\n                    id: elem[0],\n                    CRN: elem[1],\n                    semester: elem[2]\n                }\n            });\n            setOfferings(newOfferings);\n        })\n    }, [course]);\n\n    //get professors who taught the class\n    useEffect(() => {\n        setProfessor(\"\");\n        setProfessors([]);\n        if (!offering) return;\n        query('SELECT id, name FROM OfferingsToProfessorRelations JOIN Professors ON professor=netid ' +\n            'WHERE offering=\"' + offering + '\" ORDER BY name;').then(res => {\n                let newProfessors = res.map(elem => {\n                    return {\n                        relationId: elem[0],\n                        name: elem[1]\n                    }\n                });\n                setProfessors(newProfessors);\n            })\n    }, [offering]);\n\n    useEffect(() => {\n        setReview(null);\n        setReviewInput(\"\");\n        setRatingInput(5);\n        if (!(professor && student)) return;\n        query('SELECT id, rating, review FROM Reviews WHERE student = \"' + student + '\" AND offeringToProfessorRelation = \"' + professor + '\"').then(res => {\n            if (!res.length) return;\n            setReview({\n                id: res[0][0],\n                rating: res[0][1],\n                review: res[0][2]\n            });\n            setReviewInput(res[0][2]);\n            setRatingInput(res[0][1]);\n        })\n    }, [professor, student]);\n\n    function addReview() {\n        let reviewId = 'review-' + student + '-' + professor;\n        query('INSERT INTO Reviews VALUES (\"' + reviewId + '\", ' + ratingInput + ', \"' +\n            reviewInput + '\", \"' + student + '\", \"' + professor + '\");').then(() => {\n                setReview({\n                    id: reviewId,\n                    rating: ratingInput,\n                    review: reviewInput\n                });\n            });\n    };\n\n    function updateReview() {\n        query('UPDATE Reviews SET review=\"' + reviewInput + '\", rating=' + ratingInput +\n            ' WHERE id = \"' + review.id + '\";').then(() => {\n                setReview((old) => {\n                    return {\n                        id: old.id,\n                        rating: ratingInput,\n                        review: reviewInput\n                    }\n                });\n            })\n    };\n\n    function deleteReview() {\n        query('DELETE FROM Reviews WHERE id=\"' + review.id + '\"').then(() => {\n            setReview(null);\n            setReviewInput(\"\");\n            setRatingInput(5);\n        });\n    };\n\n    return <body>\n    <header> \n        <span className=\"header_text\">RateM</span>\n        <img className=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\"></img>\n        <span className=\"header_text\">Professor</span>\n    </header>\n    <section className=\"body\">\n        <div>\n        Write a review:\n        <br />\n        <select value={dept ?? \"Select a department\"} onChange={(e) => setDept(e.target.value)}>\n            <option value=\"\">Select a department</option>\n            {depts.map(d => <option value={d.id}>{d.id + \" - \" + d.name}</option>)}\n        </select>\n        {dept && <br />}\n        {dept && <select value={course ?? \"Select a course\"} onChange={(e) => setCourse(e.target.value)}>\n            <option value=\"\">Select a course</option>\n            {courses.map(c => <option value={c.number}>{c.title}</option>)}\n        </select>}\n        {course && <br />}\n        {course && <select value={offering ?? \"Select an offering\"} onChange={(e) => setOffering(e.target.value)}>\n            <option value=\"\">Select an offering</option>\n            {offerings.map(o => <option value={o.id}>{o.semester + \" - \" + o.CRN}</option>)}\n        </select>}\n        {offering && <br />}\n        {offering && <select value={professor ?? \"Select a professor\"} onChange={(e) => setProfessor(e.target.value)}>\n            <option value=\"\">Select a professor</option>\n            {professors.map(p => <option value={p.relationId}>{p.name}</option>)}\n        </select>}\n        <br />\n        Your NetID: <input type=\"text\" value={student} onChange={(e) => setStudent(e.target.value)} />\n        <br />\n        <br />\n        {professor && student && (\n            <div>\n                <p>{review ? \"Update \" : \"Write \"}Your Review:</p>\n                <input type=\"text\" style={{ width: '70%' }} value={reviewInput} onChange={(e) => setReviewInput(e.target.value)} />\n                <br />\n                Rating:<input type=\"number\" value={ratingInput} onChange={(e) => setRatingInput(e.target.value)} />/5\n                <br />\n                <button onClick={()=>{review ? updateReview() : addReview()}}>{review ? \"Update\" : \"Post\"}</button>\n                {review && <button onClick={()=>deleteReview()}>Remove</button>}\n            </div>\n        )}\n    </div>\n    </section>\n</body>\n}\n\nexport default Reviews;","import './App.css';\nimport LoginPage from './containers/LoginPage';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom';\nimport Home from './Home';\nimport Search from './Search';\nimport AdvancedQueryOne from './AdvOne';\nimport AdvancedQueryTwo from './AdvTwo';\nimport Reviews from './Reviews';\n\n\nfunction App() {\n  // return (\n  //   <LoginPage />\n  // );\n  return <Router basename={process.env.PUBLIC_URL}>\n    <div id=\"navbar\">\n        <Link to=\"/\">\n          Home\n        </Link>\n        <Link to=\"/search\">\n          Search\n        </Link>\n        <Link to=\"/queryOne\">\n          Advanced Query 1\n        </Link>\n        <Link to=\"/queryTwo\">\n          Advanced Query 2\n        </Link>\n        <Link to=\"/reviews\">\n          Reviews\n        </Link>\n      </div>\n      <br />\n\n      <Switch>\n        <Route path=\"/login\">\n          <LoginPage />\n        </Route>\n        <Route path=\"/queryOne\">\n          <AdvancedQueryOne />\n        </Route>\n        <Route path=\"/queryTwo\">\n          <AdvancedQueryTwo />\n        </Route>\n        <Route path=\"/search\">\n          <Search />\n        </Route>\n        <Route path=\"/reviews\">\n          <Reviews />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n  </Router>;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}