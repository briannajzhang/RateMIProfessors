{"version":3,"sources":["containers/LoginPage.module.scss","containers/LoginPage.js","Home.js","api.js","Search.js","AdvOne.js","AdvTwo.js","Reviews.js","App.js","index.js"],"names":["module","exports","LoginPage","class","styles","login","content","Component","Home","className","src","alt","height","width","query","sql","axios","get","then","response","data","ResultCard","props","items","console","log","results","result","push","Search","useState","lastSearch","search","setSearch","setResults","onEnter","e","a","key","tsearch","trim","re","num_matches","match","num","replace","columns","map","c","join","matches","slice","type","placeholder","value","onChange","target","onKeyDown","AdvancedQueryOne","status","setStatus","bestProfs","setBestProfs","useEffect","res","newBestProfs","elem","onClick","AdvancedQueryTwo","mostRated","setMostRated","newMostRated","Reviews","dept","setDept","depts","setDepts","course","setCourse","courses","setCourses","offering","setOffering","offerings","setOfferings","professor","setProfessor","professors","setProfessors","student","setStudent","review","setReview","reviewInput","setReviewInput","ratingInput","setRatingInput","newDepts","id","name","newCourses","number","title","newOfferings","CRN","semester","newProfessors","relationId","length","rating","d","o","p","style","old","reviewId","addReview","App","basename","process","to","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f36d74ca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginPage_login__l71u_\",\"content\":\"LoginPage_content__2i7Wj\"};","import React, { Component } from 'react'\nimport styles from '../containers/LoginPage.module.scss';\n\nclass LoginPage extends Component {\n    render() {\n        return (\n            <div class={styles.login}>\n                <div class={styles.content}>\n                    <h1>RateMIProfessors</h1>\n                    <p>Click here to log in!</p>\n                </div>\n            </div> \n        )\n    }\n}\n\nexport default LoginPage; ","import './Style.css'\n\nfunction Home() {\n    return <body>\n        <header className=\"flex\"> \n            <span class=\"title_text\">RateM</span>\n            <img class=\"title_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n            <span class=\"title_text\">Professor</span>\n        </header>\n        <section class=\"body\">\n            <div>FindMyProfessor is a website designed for UIUC students to find and post reviews for specific professors and the\n                classes that they teach. If you want to search for a professor and see their reviews, you can use the \"Search\" tab\n                above. If you want to use the two advanced queries written for the site, click on Advanced Query 1/2. Finally, to see reviews,\n                go to \"Reviews\". \n            </div>\n        </section>\n    </body>\n   \n}\n\nexport default Home;","import axios from 'axios';\n\n\n\nfunction query(sql){\n    return axios.get(`https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=${sql}`)\n        .then((response) => response.data[\"results\"]);\n    //return axios.get(`http://127.0.0.1:8000/forward?query=${sql}`);\n    // return axios.get('https://pokeapi.co/api/v2/pokemon/');\n    // .then((response) => {\n    //     response.data;\n    // });\n}\n\n//async function query(sql: string){\n//     const res = await fetch(`https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=${sql}`);\n    \n// }\n\nexport default query;","import { useEffect, useState } from \"react\";\nimport query from \"./api\";\nimport './Style.css'\n\nconst apiGetColumnNames = (column: string): string[] => {\n    return query(`SHOW COLUMNS FROM ${column};`)\n        .then((cols) => cols.map(col => col[0]))\n};\n\nfunction ResultCard(props) {\n\n\n    let items = [];\n    console.log(props.results)\n    for (const result of props.results) {\n        items.push(\n            <div class=\"p-4 flex space-x-4\">\n                <p className=\"w-100px\">{result[3]}</p>\n                <p>{result[4]}</p>\n            </div>\n        // <p>{`${result[3]} - ${result[4]}`}</p>\n        )\n    }\n\n    return <div class=\"flex justify-center px-10 pt-10 pb-10 w-screen\">\n        <div class=\"w-11/12 border-2 border-gray-400 rounded-lg divide-y divide-gray-100\">\n\n\n        {/* ${JSON.stringify(props.results)} */}\n        {items}\n\n        </div>\n    </div>\n}\n\nfunction Search() {\n    const [lastSearch, setLastSearch] = useState('')\n    const [search, setSearch] = useState('')\n    const [results, setResults] = useState([])\n    \n    const onEnter = async (e) => {\n        if (e.key != \"Enter\") return;\n        console.log(`Enter Pressed: ${search}`)\n\n        if (search == lastSearch) return;\n        console.log(\"Running search\")\n\n        let tsearch = search.trim();\n\n        const re = /\\d+$/;\n        let num_matches =  tsearch.match(re);\n        let num;\n\n        if (num_matches) {\n            num = num_matches[0];\n            tsearch = tsearch.replace(re, '').trim();\n        }\n\n        // let columns = await apiGetColumnNames(\"Departments\");\n        let columns = ['id', 'name', 'college', 'title'];\n        console.log(columns);\n        \n        let sql = `\n            SELECT college, id, name, courseNumber, title\n            FROM Departments JOIN Courses ON id=departmentId\n            `\n        \n        if (num || tsearch) {\n            sql += \" WHERE \"\n        }\n\n        if (tsearch) {\n            sql += \" ( \"\n            sql += columns.map(c => ` ${c} LIKE '%${tsearch}%' `).join(\" OR \")\n            sql += \" ) \"\n\n            if (num) {\n                sql += \" AND \"\n            }\n        }\n\n        if (num) {\n            sql += \" ( \"\n            sql += ` courseNumber LIKE '%_${num}%' `\n            sql += \" ) \"\n        }\n\n        console.log(sql);\n\n        let matches = await query(sql);\n        matches = matches.slice(0, 50);\n        console.log(matches);\n\n        if (matches == results) return;\n        setResults(matches);\n\n    }\n\n    // useEffect(() => {\n    //     query\n    // });\n\n    return <body>\n    <header className=\"flex\"> \n        <span class=\"header_text\">RateM</span>\n        <img class=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n        <span class=\"header_text\">Professor</span>\n    </header>\n    <section class=\"body\">\n        <div>\n            <div> Enter your query here </div>\n        <div class=\"flex justify-center pt-10 pb-10\">\n            <input\n                className=\"border-2 border-gray-400 h-12 px-2 rounded-lg w-7/12\"\n                type=\"text\"\n                placeholder=\"Search\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                onKeyDown={onEnter}\n            />\n        </div>\n        <div class=\"flex justify-center\">\n            <ResultCard results={results} />\n        </div>\n    </div>\n    </section>\n</body>\n}\n\nexport default Search;","import './Style.css'\nimport query from './api'\nimport { useEffect, useState } from 'react';\n\n\nfunction AdvancedQueryOne() {\n    const [status, setStatus] = useState(false);\n    const [bestProfs, setBestProfs] = useState([]);\n\n    // get best professors\n    useEffect(() => {\n        var s = `SELECT professor, AVG(rating) AS avgRating \n        FROM OfferingsToProfessorRelations opr JOIN Reviews r ON opr.id = r.offeringToProfessorRelation \n        GROUP BY professor HAVING COUNT(rating) > 0 \n        ORDER BY avgRating DESC LIMIT 15;`;\n\n        query(s).then(res => {\n            let newBestProfs = res.map(elem => {\n                return <div class=\"p-4 flex space-x-4\">\n                        <p className=\"w-100px\">{elem[0]}</p>\n                        <p>{elem[1]}</p>\n                    </div>\n            });\n            setBestProfs(newBestProfs);\n            console.log(newBestProfs);\n        });\n    }, []);\n\n    return <body>\n    <header className=\"flex\"> \n        <span class=\"header_text\">RateM</span>\n        <img class=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n        <span class=\"header_text\">Professor</span>\n    </header>\n    <section class=\"body\">\n        <div>This is the page for the first advanced query, which returns top 15 best rated professors.</div>\n\n        {status ? (\n            <div>\n                Here are the fifteen professors with the highest reviews:\n                {bestProfs}\n            </div> ) : (\n            <div>\n                Click the button to view the top rated professors!\n            </div>\n        )}\n\n        <div>\n            {!status && (<button onClick={() => setStatus(true)}>\n                EXECUTE QUERY HERE\n            </button>)}\n        </div>\n    </section>\n</body>\n}\n\nexport default AdvancedQueryOne;","import './Style.css'\nimport query from './api'\nimport { useEffect, useState } from 'react';\n\nfunction AdvancedQueryTwo() {\n    const [status, setStatus] = useState(false);\n    const [mostRated, setMostRated] = useState([]);\n\n    // get most rated courses\n    useEffect(() => {\n        var s = `SELECT courseNumber, COUNT(rating) as ratingCount\n                FROM Offerings o\n                JOIN OfferingsToProfessorRelations opr ON o.id = opr.offering\n                JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n                GROUP BY courseNumber ORDER BY ratingCount DESC LIMIT 15;`\n        \n        query(s).then(res => {\n            let newMostRated = res.map(elem => {\n                return <div class=\"p-4 flex space-x-4\">\n                        <p className=\"w-100px\">{elem[0]}</p>\n                        <p>{elem[1]}</p>\n                    </div>\n            });\n            setMostRated(newMostRated);\n            console.log(newMostRated);\n        });\n    }, []);\n\n    return <body>\n    <header className=\"flex\"> \n        <span class=\"header_text\">RateM</span>\n        <img class=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\" height=\"110\" width=\"110\"></img>\n        <span class=\"header_text\">Professor</span>\n    </header>\n    <section class=\"body\">\n        <div>This is the page for the second advanced query, which returns the 15 most reviewed courses.</div>\n    \n        {status ? (\n            <div>\n                Here are the fifteen courses with the most reviews:\n                {mostRated}\n            </div> ) : (\n            <div>\n                Click the button to view the most reviewed courses!\n            </div>\n        )}\n\n        <div>\n            {!status && (<button onClick={() => setStatus(true)}>\n                EXECUTE QUERY HERE\n            </button>)}\n        </div>\n    </section>\n</body>\n}\n\nexport default AdvancedQueryTwo;\n\n\n\n\n\n\n\n","import { useEffect, useState } from \"react\";\nimport query from \"./api\";\nimport './Style.css'\n\nfunction Reviews() {\n    const [dept, setDept] = useState(\"\");\n    const [depts, setDepts] = useState([]);\n    const [course, setCourse] = useState(\"\");\n    const [courses, setCourses] = useState([]);\n    const [offering, setOffering] = useState(\"\");\n    const [offerings, setOfferings] = useState([]);\n    const [professor, setProfessor] = useState(\"\");\n    const [professors, setProfessors] = useState([]);\n    const [student, setStudent] = useState(\"\");\n    const [review, setReview] = useState(null);\n    const [reviewInput, setReviewInput] = useState(\"\");\n    const [ratingInput, setRatingInput] = useState(5);\n\n    //get departments\n    useEffect(() => {\n        query('SELECT id, name FROM Departments ORDER BY id;').then(res => {\n            let newDepts = res.map(elem => {\n                return {\n                    id: elem[0],\n                    name: elem[1]\n                }\n            });\n            setDepts(newDepts);\n        });\n    }, []);\n\n    //get courses in the department\n    useEffect(() => {\n        setCourse(\"\");\n        setCourses([]);\n        if (!dept) return;\n        query('SELECT courseNumber, title FROM Courses WHERE departmentId = \"' + dept + '\" ORDER BY courseNumber;').then(res => {\n            let newCourses = res.map(elem => {\n                return {\n                    number: elem[0],\n                    title: elem[1]\n                }\n            });\n            setCourses(newCourses);\n        });\n    }, [dept]);\n\n    //get offerings of the course\n    useEffect(() => {\n        setOffering(\"\");\n        setOfferings([]);\n        if (!course) return;\n        query('SELECT id, CRN, semester FROM Offerings WHERE courseNumber = \"' + course + '\" ORDER BY semester, CRN;').then(res => {\n            let newOfferings = res.map(elem => {\n                return {\n                    id: elem[0],\n                    CRN: elem[1],\n                    semester: elem[2]\n                }\n            });\n            setOfferings(newOfferings);\n        })\n    }, [course]);\n\n    //get professors who taught the class\n    useEffect(() => {\n        setProfessor(\"\");\n        setProfessors([]);\n        if (!offering) return;\n        query('SELECT id, name FROM OfferingsToProfessorRelations JOIN Professors ON professor=netid ' +\n            'WHERE offering=\"' + offering + '\" ORDER BY name;').then(res => {\n                let newProfessors = res.map(elem => {\n                    return {\n                        relationId: elem[0],\n                        name: elem[1]\n                    }\n                });\n                setProfessors(newProfessors);\n            })\n    }, [offering]);\n\n    useEffect(() => {\n        setReview(null);\n        setReviewInput(\"\");\n        setRatingInput(5);\n        if (!(professor && student)) return;\n        query('SELECT id, rating, review FROM Reviews WHERE student = \"' + student + '\" AND offeringToProfessorRelation = \"' + professor + '\"').then(res => {\n            if (!res.length) return;\n            setReview({\n                id: res[0][0],\n                rating: res[0][1],\n                review: res[0][2]\n            });\n            setReviewInput(res[0][2]);\n            setRatingInput(res[0][1]);\n        })\n    }, [professor, student]);\n\n    function addReview() {\n        let reviewId = 'review-' + student + '-' + professor;\n        query('INSERT INTO Reviews VALUES (\"' + reviewId + '\", ' + ratingInput + ', \"' +\n            reviewInput + '\", \"' + student + '\", \"' + professor + '\");').then(() => {\n                setReview({\n                    id: reviewId,\n                    rating: ratingInput,\n                    review: reviewInput\n                });\n            });\n    };\n\n    function updateReview() {\n        query('UPDATE Reviews SET review=\"' + reviewInput + '\", rating=' + ratingInput +\n            ' WHERE id = \"' + review.id + '\";').then(() => {\n                setReview((old) => {\n                    return {\n                        id: old.id,\n                        rating: ratingInput,\n                        review: reviewInput\n                    }\n                });\n            })\n    };\n\n    function deleteReview() {\n        query('DELETE FROM Reviews WHERE id=\"' + review.id + '\"').then(() => {\n            setReview(null);\n            setReviewInput(\"\");\n            setRatingInput(5);\n        });\n    };\n\n    return <body>\n    <header className=\"flex\"> \n        <span className=\"header_text\">RateM</span>\n        <img className=\"header_image\" src=\"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png\" alt=\"Block I\"></img>\n        <span className=\"header_text\">Professor</span>\n    </header>\n    <section className=\"body\">\n        <div>\n        Write a review:\n        <br />\n        <select value={dept ?? \"Select a department\"} onChange={(e) => setDept(e.target.value)}>\n            <option value=\"\">Select a department</option>\n            {depts.map(d => <option value={d.id}>{d.id + \" - \" + d.name}</option>)}\n        </select>\n        {dept && <br />}\n        {dept && <select value={course ?? \"Select a course\"} onChange={(e) => setCourse(e.target.value)}>\n            <option value=\"\">Select a course</option>\n            {courses.map(c => <option value={c.number}>{c.title}</option>)}\n        </select>}\n        {course && <br />}\n        {course && <select value={offering ?? \"Select an offering\"} onChange={(e) => setOffering(e.target.value)}>\n            <option value=\"\">Select an offering</option>\n            {offerings.map(o => <option value={o.id}>{o.semester + \" - \" + o.CRN}</option>)}\n        </select>}\n        {offering && <br />}\n        {offering && <select value={professor ?? \"Select a professor\"} onChange={(e) => setProfessor(e.target.value)}>\n            <option value=\"\">Select a professor</option>\n            {professors.map(p => <option value={p.relationId}>{p.name}</option>)}\n        </select>}\n        <br />\n        Your NetID: <input type=\"text\" value={student} onChange={(e) => setStudent(e.target.value)} />\n        <br />\n        <br />\n        {professor && student && (\n            <div>\n                <p>{review ? \"Update \" : \"Write \"}Your Review:</p>\n                <input type=\"text\" style={{ width: '70%' }} value={reviewInput} onChange={(e) => setReviewInput(e.target.value)} />\n                <br />\n                Rating:<input type=\"number\" value={ratingInput} onChange={(e) => setRatingInput(e.target.value)} />/5\n                <br />\n                <button className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" onClick={()=>{review ? updateReview() : addReview()}}>{review ? \"Update\" : \"Post\"}</button>\n                {review && <button className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" onClick={()=>deleteReview()}>Remove</button>}\n            </div>\n        )}\n    </div>\n    </section>\n</body>\n}\n\nexport default Reviews;","import './App.css';\nimport LoginPage from './containers/LoginPage';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom';\nimport Home from './Home';\nimport Search from './Search';\nimport AdvancedQueryOne from './AdvOne';\nimport AdvancedQueryTwo from './AdvTwo';\nimport Reviews from './Reviews';\n\n\nfunction App() {\n  // return (\n  //   <LoginPage />\n  // );\n  return <Router basename={process.env.PUBLIC_URL}>\n    <div id=\"navbar\">\n        <Link className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" to=\"/\">\n          Home\n        </Link>\n        <Link className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" to=\"/search\">\n          Search\n        </Link>\n        <Link className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" to=\"/queryOne\">\n          Advanced Query 1\n        </Link>\n        <Link className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" to=\"/queryTwo\">\n          Advanced Query 2\n        </Link>\n        <Link className=\"border-2 border-gray-400 h-8 px-2 rounded-lg\" to=\"/reviews\">\n          Reviews\n        </Link>\n      </div>\n      <br />\n\n      <Switch>\n        <Route path=\"/login\">\n          <LoginPage />\n        </Route>\n        <Route path=\"/queryOne\">\n          <AdvancedQueryOne />\n        </Route>\n        <Route path=\"/queryTwo\">\n          <AdvancedQueryTwo />\n        </Route>\n        <Route path=\"/search\">\n          <Search />\n        </Route>\n        <Route path=\"/reviews\">\n          <Reviews />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n  </Router>;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}