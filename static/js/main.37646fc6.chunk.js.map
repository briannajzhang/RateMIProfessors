{"version":3,"sources":["containers/LoginPage.module.scss","containers/LoginPage.js","Home.js","api.js","Search.js","AdvOne.js","AdvTwo.js","Reviews.js","App.js","index.js"],"names":["module","exports","LoginPage","class","styles","login","content","Component","Home","query","sql","axios","get","then","response","data","ResultCard","props","items","console","log","results","result","push","className","Search","useState","lastSearch","search","setSearch","setResults","onEnter","e","a","key","tsearch","trim","re","num_matches","match","num","replace","columns","map","c","join","matches","slice","type","placeholder","value","onChange","target","onKeyDown","AdvancedQueryOne","AdvancedQueryTwo","Reviews","App","basename","process","id","to","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.37646fc6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginPage_login__l71u_\",\"content\":\"LoginPage_content__2i7Wj\"};","import React, { Component } from 'react'\nimport styles from '../containers/LoginPage.module.scss';\n\nclass LoginPage extends Component {\n    render() {\n        return (\n            <div class={styles.login}>\n                <div class={styles.content}>\n                    <h1>RateMIProfessors</h1>\n                    <p>Click here to log in!</p>\n                </div>\n            </div> \n        )\n    }\n}\n\nexport default LoginPage; ","import './Home.css'\n\nfunction Home() {\n    return <div>\n        Homepage\n    </div>\n}\n\nexport default Home;","import axios from \"axios\";\n\n\n\nfunction query(sql){\n    return axios.get(`https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=${sql}`)\n        .then((response) => response.data[\"results\"]);\n    //return axios.get(`http://127.0.0.1:8000/forward?query=${sql}`);\n    // return axios.get('https://pokeapi.co/api/v2/pokemon/');\n    // .then((response) => {\n    //     response.data;\n    // });\n}\n\n//async function query(sql: string){\n//     const res = await fetch(`https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=${sql}`);\n    \n// }\n\nexport default query;","import { useEffect, useState } from \"react\";\nimport query from \"./api\";\n\nconst apiGetColumnNames = (column: string): string[] => {\n    return query(`SHOW COLUMNS FROM ${column};`)\n        .then((cols) => cols.map(col => col[0]))\n};\n\nfunction ResultCard(props) {\n\n\n    let items = [];\n    console.log(props.results)\n    for (const result of props.results) {\n        items.push(\n            <div class=\"p-4 flex space-x-4\">\n                <p className=\"w-100px\">{result[3]}</p>\n                <p>{result[4]}</p>\n            </div>\n        // <p>{`${result[3]} - ${result[4]}`}</p>\n        )\n    }\n\n    return <div class=\"flex justify-center px-10 pt-10 pb-10 w-screen\">\n        <div class=\"w-11/12 border-2 border-gray-400 rounded-lg divide-y divide-gray-100\">\n\n\n        {/* ${JSON.stringify(props.results)} */}\n        {items}\n\n        </div>\n    </div>\n}\n\nfunction Search() {\n    const [lastSearch, setLastSearch] = useState('')\n    const [search, setSearch] = useState('')\n    const [results, setResults] = useState([])\n    \n    const onEnter = async (e) => {\n        if (e.key != \"Enter\") return;\n        console.log(`Enter Pressed: ${search}`)\n\n        if (search == lastSearch) return;\n        console.log(\"Running search\")\n\n        let tsearch = search.trim();\n\n        const re = /\\d+$/;\n        let num_matches =  tsearch.match(re);\n        let num;\n\n        if (num_matches) {\n            num = num_matches[0];\n            tsearch = tsearch.replace(re, '').trim();\n        }\n\n        // let columns = await apiGetColumnNames(\"Departments\");\n        let columns = ['id', 'name', 'college', 'title'];\n        console.log(columns);\n        \n        let sql = `\n            SELECT college, id, name, courseNumber, title\n            FROM Departments JOIN Courses ON id=departmentId\n            `\n        \n        if (num || tsearch) {\n            sql += \" WHERE \"\n        }\n\n        if (tsearch) {\n            sql += \" ( \"\n            sql += columns.map(c => ` ${c} LIKE '%${tsearch}%' `).join(\" OR \")\n            sql += \" ) \"\n\n            if (num) {\n                sql += \" AND \"\n            }\n        }\n\n        if (num) {\n            sql += \" ( \"\n            sql += ` courseNumber LIKE '%_${num}%' `\n            sql += \" ) \"\n        }\n\n        console.log(sql);\n\n        let matches = await query(sql);\n        matches = matches.slice(0, 50);\n        console.log(matches);\n\n        if (matches == results) return;\n        setResults(matches);\n\n    }\n\n    // useEffect(() => {\n    //     query\n    // });\n\n    return <div>\n        <div class=\"flex justify-center pt-10 pb-10\">\n            <input\n                className=\"border-2 border-gray-400 h-12 px-2 rounded-lg w-7/12\"\n                type=\"text\"\n                placeholder=\"Search\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                onKeyDown={onEnter}\n            />\n        </div >\n        <div class=\"flex justify-center\">\n            <ResultCard results={results} />\n        </div>\n    </div>\n\n}\n\nexport default Search;","\nfunction AdvancedQueryOne() {\n    return <div>\n        Advanced Query One\n    </div>\n}\n\nexport default AdvancedQueryOne;","\nfunction AdvancedQueryTwo() {\n    return <div>\n        Advanced Query Two\n    </div>\n}\n\nexport default AdvancedQueryTwo;","import query from \"./api\";\n\nfunction Reviews() {\n    query(\"SELECT * FROM Reviews\").then((data) => {\n        console.log(data);\n    });\n\n    // console.log(query(\"SELECT * FROM Reviews\"));\n\n    return <div>\n        review page\n    </div>\n}\n\nexport default Reviews;","import './App.css';\nimport LoginPage from './containers/LoginPage';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from 'react-router-dom';\nimport Home from './Home';\nimport Search from './Search';\nimport AdvancedQueryOne from './AdvOne';\nimport AdvancedQueryTwo from './AdvTwo';\nimport Reviews from './Reviews';\n\n\nfunction App() {\n  // return (\n  //   <LoginPage />\n  // );\n  return <Router basename={process.env.PUBLIC_URL}>\n    <div id=\"navbar\">\n        <Link to=\"/\">\n          Home\n        </Link>\n        <Link to=\"/search\">\n          Search\n        </Link>\n        <Link to=\"/queryOne\">\n          Advanced Query 1\n        </Link>\n        <Link to=\"/queryTwo\">\n          Advanced Query 2\n        </Link>\n        <Link to=\"/reviews\">\n          Reviews\n        </Link>\n      </div>\n      <br />\n\n      <Switch>\n        <Route path=\"/login\">\n          <LoginPage />\n        </Route>\n        <Route path=\"/queryOne\">\n          <AdvancedQueryOne />\n        </Route>\n        <Route path=\"/queryTwo\">\n          <AdvancedQueryTwo />\n        </Route>\n        <Route path=\"/search\">\n          <Search />\n        </Route>\n        <Route path=\"/reviews\">\n          <Reviews />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n  </Router>;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}