(this["webpackJsonprate-mi-professors"]=this["webpackJsonprate-mi-professors"]||[]).push([[0],{15:function(e,t,r){e.exports={login:"LoginPage_login__l71u_",content:"LoginPage_content__2i7Wj"}},41:function(e,t,r){},42:function(e,t,r){},71:function(e,t,r){"use strict";r.r(t);var n=r(1),s=r.n(n),c=r(27),a=r.n(c),i=(r(41),r(42),r(28)),o=r(29),l=r(36),j=r(35),d=r(15),u=r.n(d),b=r(0),O=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(b.jsx)("div",{className:u.a.login,children:Object(b.jsxs)("div",{className:u.a.content,children:[Object(b.jsx)("h1",{children:"RateMIProfessors"}),Object(b.jsx)("p",{children:"Click here to log in!"})]})})}}]),r}(n.Component),h=O,f=r(6),x=r(3);r(8);var p=function(){return Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"title_text",children:"RateM"}),Object(b.jsx)("img",{className:"title_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{className:"title_text",children:"Professor"})]}),Object(b.jsx)("section",{className:"body",children:Object(b.jsx)("div",{children:'FindMyProfessor is a website designed for UIUC students to find and post reviews for specific professors and the classes that they teach. If you want to search for a professor and see their reviews, you can use the "Search" tab above. If you want to use the two advanced queries written for the site, click on Advanced Query 1/2. Finally, to see reviews, go to "Reviews".'})})]})},m=r(16),g=r.n(m),v=r(30),N=r(2),R=r(31),w=r(32),E=r.n(w);var y=function(e){return E.a.get("https://us-central1-cs411-project-328717.cloudfunctions.net/forward?query=".concat(e)).then((function(e){return e.data.results}))};function I(e){var t=[];console.log(e.results);var r,n=Object(R.a)(e.results);try{for(n.s();!(r=n.n()).done;){var s=r.value;t.push(Object(b.jsxs)(f.b,{className:"p-4 flex space-x-4",to:"/course/".concat(s[3]),children:[Object(b.jsx)("p",{className:"w-100px",children:s[3]}),Object(b.jsx)("p",{children:s[4]})]}))}}catch(c){n.e(c)}finally{n.f()}return Object(b.jsx)("div",{className:"flex justify-center px-10 pt-10 pb-10 w-screen",children:Object(b.jsx)("div",{className:"w-11/12 border-2 border-gray-400 rounded-lg divide-y divide-gray-100",children:t})})}var S=function(){var e=Object(n.useState)(""),t=Object(N.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)(""),a=Object(N.a)(c,2),i=a[0],o=a[1],l=Object(n.useState)([]),j=Object(N.a)(l,2),d=j[0],u=j[1],O=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,c,a,o,l,j,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"===t.key){e.next=2;break}return e.abrupt("return");case 2:if(console.log("Enter Pressed: ".concat(i)),i!==r){e.next=5;break}return e.abrupt("return");case 5:return console.log("Running search"),n=i.trim(),c=/\d+$/,(a=n.match(c))&&(o=a[0],n=n.replace(c,"").trim()),l=["id","name","college","title"],console.log(l),j="\n            SELECT college, id, name, courseNumber, title\n            FROM Departments JOIN Courses ON id=departmentId\n            ",(o||n)&&(j+=" WHERE "),n&&(j+=" ( ",j+=l.map((function(e){return" ".concat(e," LIKE '%").concat(n,"%' ")})).join(" OR "),j+=" ) ",o&&(j+=" AND ")),o&&(j+=" ( ",j+=" courseNumber LIKE '%_".concat(o,"%' "),j+=" ) "),console.log(j),e.next=19,y(j);case 19:if(b=(b=e.sent).slice(0,50),console.log(b),b!==d){e.next=24;break}return e.abrupt("return");case 24:u(b),s(i);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:" Enter your query here "}),Object(b.jsx)("div",{className:"flex justify-center pt-10 pb-10",children:Object(b.jsx)("input",{className:"border-2 border-gray-400 h-12 px-2 rounded-lg w-7/12",type:"text",placeholder:"Search",value:i,onChange:function(e){return o(e.target.value)},onKeyDown:O})}),Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)(I,{results:d})})]})})]})};var C=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),r=t[0],s=t[1];return Object(n.useEffect)((function(){y("SELECT professor, AVG(rating) AS avgRating \n        FROM OfferingsToProfessorRelations opr JOIN Reviews r ON opr.id = r.offeringToProfessorRelation \n        GROUP BY professor HAVING COUNT(rating) > 0 \n        ORDER BY avgRating DESC LIMIT 15;").then((function(e){var t=e.map((function(e,t){return Object(b.jsxs)("div",{className:"p-1 flex space-x-4",children:[Object(b.jsx)("p",{style:{width:"20px"},children:"".concat(t+1,".")}),Object(b.jsx)("p",{style:{width:"100px"},children:e[0]}),Object(b.jsx)("p",{children:"".concat(e[1],"/5")})]},t)}));s(t)}))}),[]),Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsxs)("section",{className:"body",children:[Object(b.jsx)("div",{children:"This is the page for the first advanced query, which returns top 15 best rated professors."}),Object(b.jsxs)("div",{children:["Here are the fifteen professors with the highest reviews:",r]})]})]})};var T=function(){var e=Object(n.useState)([]),t=Object(N.a)(e,2),r=t[0],s=t[1];return Object(n.useEffect)((function(){y("SELECT courseNumber, COUNT(rating) as ratingCount\n                FROM Offerings o\n                JOIN OfferingsToProfessorRelations opr ON o.id = opr.offering\n                JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n                GROUP BY courseNumber ORDER BY ratingCount DESC LIMIT 15;").then((function(e){var t=e.map((function(e,t){return Object(b.jsxs)(f.b,{style:{width:"fit-content"},className:"p-1 flex space-x-4",to:"/course/".concat(e[0]),children:[Object(b.jsx)("p",{style:{width:"20px"},children:"".concat(t+1,".")}),Object(b.jsx)("p",{style:{width:"100px"},children:e[0]}),Object(b.jsx)("p",{children:"".concat(e[1]," reviews")})]})}));s(t)}))}),[]),Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I",height:"110",width:"110"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsxs)("section",{className:"body",children:[Object(b.jsx)("div",{children:"This is the page for the second advanced query, which returns the 15 most reviewed courses."}),Object(b.jsxs)("div",{children:["Here are the fifteen courses with the most reviews:",r]})]})]})};var _=function(){var e=Object(n.useState)(""),t=Object(N.a)(e,2),r=t[0],s=t[1],c=Object(n.useState)([]),a=Object(N.a)(c,2),i=a[0],o=a[1],l=Object(n.useState)(""),j=Object(N.a)(l,2),d=j[0],u=j[1],O=Object(n.useState)([]),h=Object(N.a)(O,2),f=h[0],x=h[1],p=Object(n.useState)(""),m=Object(N.a)(p,2),g=m[0],v=m[1],R=Object(n.useState)([]),w=Object(N.a)(R,2),E=w[0],I=w[1],S=Object(n.useState)(""),C=Object(N.a)(S,2),T=C[0],_=C[1],P=Object(n.useState)([]),M=Object(N.a)(P,2),k=M[0],B=M[1],L=Object(n.useState)(""),J=Object(N.a)(L,2),D=J[0],F=J[1],Y=Object(n.useState)([]),H=Object(N.a)(Y,2),W=H[0],A=H[1],U=Object(n.useState)(null),q=Object(N.a)(U,2),G=q[0],V=q[1],K=Object(n.useState)(""),Q=Object(N.a)(K,2),$=Q[0],z=Q[1],X=Object(n.useState)(5),Z=Object(N.a)(X,2),ee=Z[0],te=Z[1];function re(){y("SELECT ".concat("c.departmentId, courseNumber, crn, semester, professor, name, rating, review"," FROM ").concat("Courses c\n        NATURAL JOIN Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n        JOIN Professors p ON opr.professor = p.netid",' WHERE student = "').concat(r,'";')).then((function(e){var t=e.map((function(e){return{ddepartmentId:e[0],courseNumber:e[1],crn:e[2],semester:e[3],professor:e[4],name:e[5],rating:e[6],review:e[7]}}));o(t)}))}return Object(n.useEffect)((function(){y("SELECT ".concat("c.departmentId, courseNumber, crn, semester, professor, name, rating, review"," FROM ").concat("Courses c\n        NATURAL JOIN Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n        JOIN Professors p ON opr.professor = p.netid",' WHERE student = "').concat(r,'";')).then((function(e){var t=e.map((function(e){return{ddepartmentId:e[0],courseNumber:e[1],crn:e[2],semester:e[3],professor:e[4],name:e[5],rating:e[6],review:e[7]}}));o(t)}))}),[r]),Object(n.useEffect)((function(){y("SELECT id, name FROM Departments ORDER BY id;").then((function(e){var t=e.map((function(e){return{id:e[0],name:e[1]}}));x(t)}))}),[]),Object(n.useEffect)((function(){v(""),I([]),d&&y('SELECT courseNumber, title FROM Courses WHERE departmentId = "'.concat(d,'" ORDER BY courseNumber;')).then((function(e){var t=e.map((function(e){return{number:e[0],title:e[1]}}));I(t)}))}),[d]),Object(n.useEffect)((function(){_(""),B([]),g&&y('SELECT id, CRN, semester FROM Offerings WHERE courseNumber = "'.concat(g,'" ORDER BY semester, CRN;')).then((function(e){var t=e.map((function(e){return{id:e[0],CRN:e[1],semester:e[2]}}));B(t)}))}),[g]),Object(n.useEffect)((function(){F(""),A([]),T&&y('SELECT id, name FROM OfferingsToProfessorRelations JOIN Professors ON professor=netid WHERE offering="'.concat(T,'" ORDER BY name;')).then((function(e){var t=e.map((function(e){return{relationId:e[0],name:e[1]}}));A(t)}))}),[T]),Object(n.useEffect)((function(){V(null),z(""),te(5),D&&r&&y('SELECT id, rating, review FROM Reviews WHERE student = "'.concat(r,'" AND offeringToProfessorRelation = "').concat(D,'"')).then((function(e){e.length&&(V({id:e[0][0],rating:e[0][1],review:e[0][2]}),z(e[0][2]),te(e[0][1]))}))}),[D,r]),Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsx)("section",{className:"body",children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Your NetID: ",Object(b.jsx)("input",{type:"text",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(b.jsxs)("div",{className:"write-review",children:[Object(b.jsx)("br",{}),"Write a review:",Object(b.jsx)("br",{}),Object(b.jsxs)("select",{value:null!==d&&void 0!==d?d:"Select a department",onChange:function(e){return u(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a department"}),f.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.id+" - "+e.name})}))]}),d&&Object(b.jsx)("br",{}),d&&Object(b.jsxs)("select",{value:null!==g&&void 0!==g?g:"Select a course",onChange:function(e){return v(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a course"}),E.map((function(e){return Object(b.jsx)("option",{value:e.number,children:e.title})}))]}),g&&Object(b.jsx)("br",{}),g&&Object(b.jsxs)("select",{value:null!==T&&void 0!==T?T:"Select an offering",onChange:function(e){return _(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select an offering"}),k.map((function(e){return Object(b.jsx)("option",{value:e.id,children:e.semester+" - "+e.CRN})}))]}),T&&Object(b.jsx)("br",{}),T&&Object(b.jsxs)("select",{value:null!==D&&void 0!==D?D:"Select a professor",onChange:function(e){return F(e.target.value)},children:[Object(b.jsx)("option",{value:"",children:"Select a professor"}),W.map((function(e){return Object(b.jsx)("option",{value:e.relationId,children:e.name})}))]}),Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),D&&r&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{children:[G?"Update ":"Write ","Your Review:"]}),Object(b.jsx)("textarea",{style:{width:"70%",height:"150px"},value:$,onChange:function(e){return z(e.target.value)}}),Object(b.jsx)("br",{}),"Rating:",Object(b.jsx)("input",{type:"number",value:ee,onChange:function(e){return te(e.target.value)}}),"/5",Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",onClick:function(){G?(y('UPDATE Reviews SET review="'.concat($,'", rating=').concat(ee,' WHERE id = "').concat(G.id,'";')).then((function(){V((function(e){return{id:e.id,rating:ee,review:$}}))})),re()):function(){var e="review-".concat(r,"-").concat(D);y('INSERT INTO Reviews VALUES ("'.concat(e,'", ').concat(ee,', "').concat($,'", "').concat(r,'", "').concat(D,'");')).then((function(){V({id:e,rating:ee,review:$})})),re()}()},children:G?"Update":"Post"}),G&&Object(b.jsx)("button",{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",onClick:function(){return y('DELETE FROM Reviews WHERE id="'.concat(G.id,'"')).then((function(){V(null),z(""),te(5)})),void re()},children:"Remove"})]})]}),Object(b.jsxs)("div",{className:"existing-reviews",children:["Your reviews:",Object(b.jsx)("br",{}),i.map((function(e,t){return Object(b.jsxs)("div",{className:"existing-review-box",children:[Object(b.jsx)("p",{children:"".concat(e.courseNumber," - ").concat(e.rating,"/5")}),Object(b.jsx)("p",{children:e.name}),Object(b.jsx)("p",{children:"".concat(e.semester," - ").concat(e.crn)})]},t)}))]})]})})]})};var P=function(){var e=Object(x.f)().courseNumber,t=Object(n.useState)([]),r=Object(N.a)(t,2),s=r[0],c=r[1],a=Object(n.useState)([]),i=Object(N.a)(a,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){var t='SELECT p.name, semester, rating, review, s.name\n        FROM Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Reviews r ON r.offeringToProfessorRelation = opr.id\n        JOIN Professors p ON opr.professor = p.netid\n        JOIN Students s ON r.student = s.netid\n        WHERE courseNumber = "'.concat(e,'"\n        ORDER BY semester DESC');y(t).then((function(e){var t=e.map((function(e){return{name:e[0],semester:e[1],rating:e[2],review:e[3],student:e[4]}}));c(t)})),t='SELECT name, AVG(avgRating) as rating\n        FROM Offerings o\n        JOIN OfferingsToProfessorRelations opr ON opr.offering = o.id\n        JOIN Professors p ON opr.professor = p.netid\n        WHERE courseNumber = "'.concat(e,'"\n        GROUP BY netid\n        ORDER BY rating DESC'),y(t).then((function(e){var t=e.map((function(e){return{name:e[0],rating:e[1]}}));l(t)}))}),[e]),Object(b.jsxs)("body",{children:[Object(b.jsxs)("header",{className:"flex",children:[Object(b.jsx)("span",{className:"header_text",children:"RateM"}),Object(b.jsx)("img",{className:"header_image",src:"http://ansatuiuc.web.engr.illinois.edu/images/Illinois_Block_I.png",alt:"Block I"}),Object(b.jsx)("span",{className:"header_text",children:"Professor"})]}),Object(b.jsxs)("section",{className:"body",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Professors who taught ",e]})}),Object(b.jsx)("div",{className:"existing-reviews",style:{float:"none"},children:o.map((function(e,t){var r;return Object(b.jsx)("div",{className:"existing-review-box",children:Object(b.jsx)("p",{children:"".concat(e.name," - ").concat(null!==(r=e.rating)&&void 0!==r?r:"Not Reviewed")+(e.rating?"/5":"")})},t)}))}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsxs)("p",{children:["Reviews for ",e]})}),Object(b.jsxs)("div",{className:"existing-reviews",children:[s.map((function(e,t){return Object(b.jsxs)("div",{className:"existing-review-box",children:[Object(b.jsx)("p",{children:"".concat(e.name," - ").concat(e.rating,"/5")}),Object(b.jsx)("p",{children:e.semester}),Object(b.jsx)("p",{children:e.review}),Object(b.jsx)("p",{style:{alignSelf:"flex-end"},children:"-".concat(e.student)})]},t)})),!s.length&&Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:" No Reviews Found!"}),Object(b.jsx)(f.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/your-reviews",children:"Write Your Own Review!"})]})]})]})]})};var M=function(){return Object(b.jsxs)(f.a,{basename:"/RateMIProfessors",children:[Object(b.jsxs)("div",{id:"navbar",children:[Object(b.jsx)(f.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/",children:"Home"}),Object(b.jsx)(f.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/search",children:"Search"}),Object(b.jsx)(f.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/queryOne",children:"Top 15 Professors"}),Object(b.jsx)(f.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/queryTwo",children:"Most Reviewed Classes"}),Object(b.jsx)(f.b,{className:"border-2 border-gray-400 h-8 px-2 rounded-lg",to:"/your-reviews",children:"Your Reviews"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)(x.c,{children:[Object(b.jsx)(x.a,{path:"/login",children:Object(b.jsx)(h,{})}),Object(b.jsx)(x.a,{path:"/queryOne",children:Object(b.jsx)(C,{})}),Object(b.jsx)(x.a,{path:"/queryTwo",children:Object(b.jsx)(T,{})}),Object(b.jsx)(x.a,{path:"/search",children:Object(b.jsx)(S,{})}),Object(b.jsx)(x.a,{path:"/your-reviews",children:Object(b.jsx)(_,{})}),Object(b.jsx)(x.a,{path:"/course/:courseNumber",children:Object(b.jsx)(P,{})}),Object(b.jsx)(x.a,{path:"/",children:Object(b.jsx)(p,{})})]})]})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(M,{})}),document.getElementById("root"))},8:function(e,t,r){}},[[71,1,2]]]);
//# sourceMappingURL=main.7811663a.chunk.js.map